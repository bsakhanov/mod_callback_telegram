# «Telegram Callback» Joomla module

**v1.0.1**

Модуль обратной связи, отсылающий сообщения не на электронную почту, в телеграм, &ndash; современный сервис моментальных сообщений.

Сообщение с формы модуля отправляется в заранее созданного бота.

Бот создается с помощью другого, системного бота.

### Как создать бота

-  находим в телеграме бота по имени @BotFather (или переходим по ссылке http://t.me/botfather);
-  вводим боту команду `/newbot` (либо выбираем ее из списка команд в приветственном сообщении);
-  последовательно вводим сначала наименование бота (любое, какое придумаете), затем системный никнейм, состоящий только из латинских символов, цифр и символа «_»;
-  вуаля! нам отвечают, что бот создан и предлагаю быструю ссылку на него, а также &ndash; внимание! &ndash; токен безопасности, эдакий универсальный ключ от свежесозданного бота;
-  открываем в телеграме свежесозданный бот и вводим команду `/start`, тем самым запустив работу бота (это важно!).

В параметрах установленного на сайт модуля «Telegram callback» вводим полученный при создании бота токен, затем жмем кнопку «Получить ID чата» &ndash; соответствующее поле должно заполнится. Если свежесозданный бот не был запущен командой `/start`, то ничего не произойдет. ID чата нельзя получить, если бот получал сообщения из других источников, помимо собственно чата в телеграме.

### Описание

Список полей по умолчанию пуст, потому следует его заполнить, затем сохранить. Поддерживаемые типы полей: text, textarea, email, select, checkbox, radio. Каждое поле обязательно должно иметь имя (для формирования формы) и наименование (для идентификации поля в сообщении в телеграмме).

Также можно указать заголовок для сообщения в телеграме, если заголовок не указан, используется строка вида «Сообщение с сайта {url}».

Модуль не содержит встроенного CSS и JS, однако расметка шаблона формы представллена в трех вариантах: bootstrap2 (default), bootstrap3, uikit2.

Сообщение об успешной отправке поста либо ошибке выводится посредством стандартного механизма системный сообщений Joomla.

**ВНИМАНИЕ!** Должен быть отключен `open_basedir`, т.к. с ним не работает используемый в модуле curl.
